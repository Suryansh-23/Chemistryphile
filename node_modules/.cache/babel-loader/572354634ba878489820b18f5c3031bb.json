{"ast":null,"code":"/*\n * Copyright (C) 2007-2018 Diego Perini\n * All rights reserved.\n *\n * nwmatcher-noqsa.js - A fast CSS selector engine and matcher\n *\n * Author: Diego Perini <diego.perini at gmail com>\n * Version: 1.4.4\n * Created: 20070722\n * Release: 20180305\n *\n * License:\n *  http://javascript.nwbox.com/NWMatcher/MIT-LICENSE\n * Download:\n *  http://javascript.nwbox.com/NWMatcher/nwmatcher.js\n */\n(function (global, factory) {\n  if (typeof module == 'object' && typeof exports == 'object') {\n    module.exports = factory;\n  } else if (typeof define === 'function' && define[\"amd\"]) {\n    define(factory);\n  } else {\n    global.NW || (global.NW = {});\n    global.NW.Dom = factory(global);\n  }\n})(this, function (global) {\n  var version = 'nwmatcher-1.4.4',\n      doc = global.document,\n      root = doc.documentElement,\n      isSingleMatch,\n      isSingleSelect,\n      lastSlice,\n      lastContext,\n      lastPosition,\n      lastMatcher,\n      lastSelector,\n      lastPartsMatch,\n      lastPartsSelect,\n      prefixes = '(?:[#.:]|::)?',\n      operators = '([~*^$|!]?={1})',\n      whitespace = '[\\\\x20\\\\t\\\\n\\\\r\\\\f]',\n      combinators = '\\\\x20|[>+~](?=[^>+~])',\n      pseudoparms = '(?:[-+]?\\\\d*n)?[-+]?\\\\d*',\n      skip_groups = '\\\\[.*\\\\]|\\\\(.*\\\\)|\\\\{.*\\\\}',\n      any_esc_chr = '\\\\\\\\.',\n      alphalodash = '[_a-zA-Z]',\n      non_asc_chr = '[^\\\\x00-\\\\x9f]',\n      escaped_chr = '\\\\\\\\[^\\\\n\\\\r\\\\f0-9a-fA-F]',\n      unicode_chr = '\\\\\\\\[0-9a-fA-F]{1,6}(?:\\\\r\\\\n|' + whitespace + ')?',\n      quotedvalue = '\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*\"' + \"|'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*'\",\n      reSplitGroup = /([^,\\\\()[\\]]+|\\[[^[\\]]*\\]|\\[.*\\]|\\([^()]+\\)|\\(.*\\)|\\{[^{}]+\\}|\\{.*\\}|\\\\.)+/g,\n      reTrimSpaces = RegExp('[\\\\n\\\\r\\\\f]|^' + whitespace + '+|' + whitespace + '+$', 'g'),\n      reEscapedChars = /\\\\([0-9a-fA-F]{1,6}[\\x20\\t\\n\\r\\f]?|.)|([\\x22\\x27])/g,\n      standardValidator,\n      extendedValidator,\n      reValidator,\n      attrcheck,\n      attributes,\n      attrmatcher,\n      pseudoclass,\n      reOptimizeSelector,\n      reSimpleNot,\n      reSplitToken,\n      Optimize,\n      identifier,\n      extensions = '.+',\n      Patterns = {\n    spseudos: /^\\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\\(\\s?(even|odd|(?:[-+]{0,1}\\d*n\\s?)?[-+]{0,1}\\s?\\d*)\\s?\\))?(.*)/i,\n    dpseudos: /^\\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\\(([-\\w]{2,})\\)|(?:matches|not)\\(\\s?(:nth(?:-last)?(?:-child|-of-type)\\(\\s?(?:even|odd|(?:[-+]{0,1}\\d*n\\s?)?[-+]{0,1}\\s?\\d*)\\s?\\)|[^()]*)\\s?\\))?(.*)/i,\n    epseudos: /^((?:[:]{1,2}(?:after|before|first-letter|first-line))|(?:[:]{2,2}(?:selection|backdrop|placeholder)))?(.*)/i,\n    children: RegExp('^' + whitespace + '?\\\\>' + whitespace + '?(.*)'),\n    adjacent: RegExp('^' + whitespace + '?\\\\+' + whitespace + '?(.*)'),\n    relative: RegExp('^' + whitespace + '?\\\\~' + whitespace + '?(.*)'),\n    ancestor: RegExp('^' + whitespace + '+(.*)'),\n    universal: RegExp('^\\\\*(.*)')\n  },\n      Tokens = {\n    prefixes: prefixes,\n    identifier: identifier,\n    attributes: attributes\n  },\n      QUIRKS_MODE,\n      XML_DOCUMENT,\n      GEBTN = ('getElementsByTagName' in doc),\n      GEBCN = ('getElementsByClassName' in doc),\n      IE_LT_9 = typeof doc.addEventListener != 'function',\n      LINK_NODES = {\n    a: 1,\n    A: 1,\n    area: 1,\n    AREA: 1,\n    link: 1,\n    LINK: 1\n  },\n      ATTR_BOOLEAN = {\n    checked: 1,\n    disabled: 1,\n    ismap: 1,\n    multiple: 1,\n    readonly: 1,\n    selected: 1\n  },\n      ATTR_DEFAULT = {\n    value: 'defaultValue',\n    checked: 'defaultChecked',\n    selected: 'defaultSelected'\n  },\n      ATTR_URIDATA = {\n    action: 2,\n    cite: 2,\n    codebase: 2,\n    data: 2,\n    href: 2,\n    longdesc: 2,\n    lowsrc: 2,\n    src: 2,\n    usemap: 2\n  },\n      HTML_TABLE = {\n    'accept': 1,\n    'accept-charset': 1,\n    'align': 1,\n    'alink': 1,\n    'axis': 1,\n    'bgcolor': 1,\n    'charset': 1,\n    'checked': 1,\n    'clear': 1,\n    'codetype': 1,\n    'color': 1,\n    'compact': 1,\n    'declare': 1,\n    'defer': 1,\n    'dir': 1,\n    'direction': 1,\n    'disabled': 1,\n    'enctype': 1,\n    'face': 1,\n    'frame': 1,\n    'hreflang': 1,\n    'http-equiv': 1,\n    'lang': 1,\n    'language': 1,\n    'link': 1,\n    'media': 1,\n    'method': 1,\n    'multiple': 1,\n    'nohref': 1,\n    'noresize': 1,\n    'noshade': 1,\n    'nowrap': 1,\n    'readonly': 1,\n    'rel': 1,\n    'rev': 1,\n    'rules': 1,\n    'scope': 1,\n    'scrolling': 1,\n    'selected': 1,\n    'shape': 1,\n    'target': 1,\n    'text': 1,\n    'type': 1,\n    'valign': 1,\n    'valuetype': 1,\n    'vlink': 1\n  },\n      NATIVE_TRAVERSAL_API = 'nextElementSibling' in root && 'previousElementSibling' in root,\n      Selectors = {},\n      Operators = {\n    '=': \"n=='%m'\",\n    '^=': \"n.indexOf('%m')==0\",\n    '*=': \"n.indexOf('%m')>-1\",\n    '|=': \"(n+'-').indexOf('%m-')==0\",\n    '~=': \"(' '+n+' ').indexOf(' %m ')>-1\",\n    '$=': \"n.substr(n.length-'%m'.length)=='%m'\"\n  },\n      concatCall = function (data, elements, callback) {\n    var i = -1,\n        element;\n\n    while (element = elements[++i]) {\n      if (false === callback(data[data.length] = element)) {\n        break;\n      }\n    }\n\n    return data;\n  },\n      switchContext = function (from, force) {\n    var oldDoc = doc;\n    lastContext = from;\n    doc = from.ownerDocument || from;\n\n    if (force || oldDoc !== doc) {\n      root = doc.documentElement;\n      XML_DOCUMENT = doc.createElement('DiV').nodeName == 'DiV';\n      QUIRKS_MODE = !XML_DOCUMENT && typeof doc.compatMode == 'string' ? doc.compatMode.indexOf('CSS') < 0 : function () {\n        var style = doc.createElement('div').style;\n        return style && (style.width = 1) && style.width == '1px';\n      }();\n      Config.CACHING && Dom.setCache(true, doc);\n    }\n  },\n      codePointToUTF16 = function (codePoint) {\n    if (codePoint < 1 || codePoint > 0x10ffff || codePoint > 0xd7ff && codePoint < 0xe000) {\n      return '\\\\ufffd';\n    }\n\n    if (codePoint < 0x10000) {\n      var lowHex = '000' + codePoint.toString(16);\n      return '\\\\u' + lowHex.substr(lowHex.length - 4);\n    }\n\n    return '\\\\u' + ((codePoint - 0x10000 >> 0x0a) + 0xd800).toString(16) + '\\\\u' + ((codePoint - 0x10000) % 0x400 + 0xdc00).toString(16);\n  },\n      stringFromCodePoint = function (codePoint) {\n    if (codePoint < 1 || codePoint > 0x10ffff || codePoint > 0xd7ff && codePoint < 0xe000) {\n      return '\\ufffd';\n    }\n\n    if (codePoint < 0x10000) {\n      return String.fromCharCode(codePoint);\n    }\n\n    return String.fromCodePoint ? String.fromCodePoint(codePoint) : String.fromCharCode((codePoint - 0x10000 >> 0x0a) + 0xd800, (codePoint - 0x10000) % 0x400 + 0xdc00);\n  },\n      convertEscapes = function (str) {\n    return str.replace(reEscapedChars, function (substring, p1, p2) {\n      return p2 ? '\\\\' + p2 : /^[0-9a-fA-F]/.test(p1) ? codePointToUTF16(parseInt(p1, 16)) : /^[\\\\\\x22\\x27]/.test(p1) ? substring : p1;\n    });\n  },\n      unescapeIdentifier = function (str) {\n    return str.replace(reEscapedChars, function (substring, p1, p2) {\n      return p2 ? p2 : /^[0-9a-fA-F]/.test(p1) ? stringFromCodePoint(parseInt(p1, 16)) : /^[\\\\\\x22\\x27]/.test(p1) ? substring : p1;\n    });\n  },\n      byIdRaw = function (id, elements) {\n    var i = -1,\n        element;\n\n    while (element = elements[++i]) {\n      if (element.getAttribute('id') == id) {\n        break;\n      }\n    }\n\n    return element || null;\n  },\n      _byId = !IE_LT_9 ? function (id, from) {\n    id = /\\\\/.test(id) ? unescapeIdentifier(id) : id;\n    return from.getElementById && from.getElementById(id) || byIdRaw(id, from.getElementsByTagName('*'));\n  } : function (id, from) {\n    var element = null;\n    id = /\\\\/.test(id) ? unescapeIdentifier(id) : id;\n\n    if (XML_DOCUMENT || from.nodeType != 9) {\n      return byIdRaw(id, from.getElementsByTagName('*'));\n    }\n\n    if ((element = from.getElementById(id)) && element.name == id && from.getElementsByName) {\n      return byIdRaw(id, from.getElementsByName(id));\n    }\n\n    return element;\n  },\n      byId = function (id, from) {\n    from || (from = doc);\n\n    if (lastContext !== from) {\n      switchContext(from);\n    }\n\n    return _byId(id, from);\n  },\n      byTagRaw = function (tag, from) {\n    var any = tag == '*',\n        element = from,\n        elements = [],\n        next = element.firstChild;\n    any || (tag = tag.toUpperCase());\n\n    while (element = next) {\n      if (element.tagName > '@' && (any || element.tagName.toUpperCase() == tag)) {\n        elements[elements.length] = element;\n      }\n\n      if (next = element.firstChild || element.nextSibling) continue;\n\n      while (!next && (element = element.parentNode) && element !== from) {\n        next = element.nextSibling;\n      }\n    }\n\n    return elements;\n  },\n      contains = 'compareDocumentPosition' in root ? function (container, element) {\n    return (container.compareDocumentPosition(element) & 16) == 16;\n  } : 'contains' in root ? function (container, element) {\n    return container !== element && container.contains(element);\n  } : function (container, element) {\n    while (element = element.parentNode) {\n      if (element === container) return true;\n    }\n\n    return false;\n  },\n      getAttribute = !IE_LT_9 ? function (node, attribute) {\n    return node.getAttribute(attribute);\n  } : function (node, attribute) {\n    attribute = attribute.toLowerCase();\n\n    if (typeof node[attribute] == 'object') {\n      return node.attributes[attribute] && node.attributes[attribute].value;\n    }\n\n    return attribute == 'type' ? node.getAttribute(attribute) : ATTR_URIDATA[attribute] ? node.getAttribute(attribute, 2) : ATTR_BOOLEAN[attribute] ? node.getAttribute(attribute) ? attribute : 'false' : (node = node.getAttributeNode(attribute)) && node.value;\n  },\n      hasAttribute = !IE_LT_9 && root.hasAttribute ? function (node, attribute) {\n    return node.hasAttribute(attribute);\n  } : function (node, attribute) {\n    var obj = node.getAttributeNode(attribute = attribute.toLowerCase());\n    return ATTR_DEFAULT[attribute] && attribute != 'value' ? node[ATTR_DEFAULT[attribute]] : obj && obj.specified;\n  },\n      isEmpty = function (node) {\n    node = node.firstChild;\n\n    while (node) {\n      if (node.nodeType == 3 || node.nodeName > '@') return false;\n      node = node.nextSibling;\n    }\n\n    return true;\n  },\n      isLink = function (element) {\n    return hasAttribute(element, 'href') && LINK_NODES[element.nodeName];\n  },\n      nthElement = function (element, last) {\n    var count = 1,\n        succ = last ? 'nextSibling' : 'previousSibling';\n\n    while (element = element[succ]) {\n      if (element.nodeName > '@') ++count;\n    }\n\n    return count;\n  },\n      nthOfType = function (element, last) {\n    var count = 1,\n        succ = last ? 'nextSibling' : 'previousSibling',\n        type = element.nodeName;\n\n    while (element = element[succ]) {\n      if (element.nodeName == type) ++count;\n    }\n\n    return count;\n  },\n      configure = function (option) {\n    if (typeof option == 'string') {\n      return !!Config[option];\n    }\n\n    if (typeof option != 'object') {\n      return Config;\n    }\n\n    for (var i in option) {\n      Config[i] = !!option[i];\n\n      if (i == 'SIMPLENOT') {\n        matchContexts = {};\n        matchResolvers = {};\n        selectContexts = {};\n        selectResolvers = {};\n      }\n    }\n\n    setIdentifierSyntax();\n    reValidator = RegExp(Config.SIMPLENOT ? standardValidator : extendedValidator);\n    return true;\n  },\n      emit = function (message) {\n    if (Config.VERBOSITY) {\n      throw Error(message);\n    }\n\n    if (Config.LOGERRORS && console && console.log) {\n      console.log(message);\n    }\n  },\n      Config = {\n    CACHING: false,\n    ESCAPECHR: true,\n    NON_ASCII: true,\n    SELECTOR3: true,\n    UNICODE16: true,\n    SHORTCUTS: false,\n    SIMPLENOT: true,\n    SVG_LCASE: false,\n    UNIQUE_ID: true,\n    USE_HTML5: true,\n    VERBOSITY: true,\n    LOGERRORS: true\n  },\n      initialize = function (doc) {\n    setIdentifierSyntax();\n    switchContext(doc, true);\n  },\n      setIdentifierSyntax = function () {\n    var syntax = '',\n        start = Config['SELECTOR3'] ? '-{2}|' : '';\n    Config['NON_ASCII'] && (syntax += '|' + non_asc_chr);\n    Config['UNICODE16'] && (syntax += '|' + unicode_chr);\n    Config['ESCAPECHR'] && (syntax += '|' + escaped_chr);\n    syntax += Config['UNICODE16'] || Config['ESCAPECHR'] ? '' : '|' + any_esc_chr;\n    identifier = '-?(?:' + start + alphalodash + syntax + ')(?:-|[0-9]|' + alphalodash + syntax + ')*';\n    attrcheck = '(' + quotedvalue + '|' + identifier + ')';\n    attributes = whitespace + '*(' + identifier + '(?::' + identifier + ')?)' + whitespace + '*(?:' + operators + whitespace + '*' + attrcheck + ')?' + whitespace + '*' + '(i)?' + whitespace + '*';\n    attrmatcher = attributes.replace(attrcheck, '([\\\\x22\\\\x27]*)((?:\\\\\\\\?.)*?)\\\\3');\n    pseudoclass = '((?:' + pseudoparms + '|' + quotedvalue + '|' + prefixes + identifier + '|' + '\\\\[' + attributes + '\\\\]|' + '\\\\(.+\\\\)|' + whitespace + '*|' + ',)+)';\n    standardValidator = '(?=[\\\\x20\\\\t\\\\n\\\\r\\\\f]*[^>+~(){}<>])' + '(' + '\\\\*' + '|(?:' + prefixes + identifier + ')' + '|' + combinators + '|\\\\[' + attributes + '\\\\]' + '|\\\\(' + pseudoclass + '\\\\)' + '|\\\\{' + extensions + '\\\\}' + '|(?:,|' + whitespace + '*)' + ')+';\n    reSimpleNot = RegExp('^(' + '(?!:not)' + '(' + prefixes + identifier + '|\\\\([^()]*\\\\))+' + '|\\\\[' + attributes + '\\\\]' + ')$');\n    reSplitToken = RegExp('(' + prefixes + identifier + '|' + '\\\\[' + attributes + '\\\\]|' + '\\\\(' + pseudoclass + '\\\\)|' + '\\\\\\\\.|[^\\\\x20\\\\t\\\\n\\\\r\\\\f>+~])+', 'g');\n    reOptimizeSelector = RegExp(identifier + '|^$');\n    Optimize = {\n      ID: RegExp('^\\\\*?#(' + identifier + ')|' + skip_groups),\n      TAG: RegExp('^(' + identifier + ')|' + skip_groups),\n      CLASS: RegExp('^\\\\.(' + identifier + '$)|' + skip_groups)\n    };\n    Patterns.id = RegExp('^#(' + identifier + ')(.*)');\n    Patterns.tagName = RegExp('^(' + identifier + ')(.*)');\n    Patterns.className = RegExp('^\\\\.(' + identifier + ')(.*)');\n    Patterns.attribute = RegExp('^\\\\[' + attrmatcher + '\\\\](.*)');\n    Tokens.identifier = identifier;\n    Tokens.attributes = attributes;\n    extendedValidator = standardValidator.replace(pseudoclass, '.*');\n    reValidator = RegExp(standardValidator);\n  },\n      ACCEPT_NODE = 'r[r.length]=c[k];if(f&&false===f(c[k]))break main;else continue main;',\n      REJECT_NODE = IE_LT_9 ? 'if(e.nodeName<\"A\")continue;' : '',\n      TO_UPPER_CASE = IE_LT_9 ? '.toUpperCase()' : '',\n      compile = function (selector, source, mode) {\n    var parts = typeof selector == 'string' ? selector.match(reSplitGroup) : selector;\n    typeof source == 'string' || (source = '');\n\n    if (parts.length == 1) {\n      source += compileSelector(parts[0], mode ? ACCEPT_NODE : 'f&&f(k);return true;', mode);\n    } else {\n      var i = -1,\n          seen = {},\n          token;\n\n      while (token = parts[++i]) {\n        token = token.replace(reTrimSpaces, '');\n\n        if (!seen[token] && (seen[token] = true)) {\n          source += compileSelector(token, mode ? ACCEPT_NODE : 'f&&f(k);return true;', mode);\n        }\n      }\n    }\n\n    if (mode) {\n      return Function('c,s,d,h,g,f', 'var N,n,x=0,k=-1,e,r=[];main:while((e=c[++k])){' + source + '}return r;');\n    } else {\n      return Function('e,s,d,h,g,f', 'var N,n,x=0,k=e;' + source + 'return false;');\n    }\n  },\n      compileSelector = function (selector, source, mode) {\n    var a,\n        b,\n        n,\n        k = 0,\n        expr,\n        match,\n        result,\n        status,\n        test,\n        type;\n\n    while (selector) {\n      k++;\n\n      if (match = selector.match(Patterns.universal)) {\n        expr = '';\n      } else if (match = selector.match(Patterns.id)) {\n        match[1] = /\\\\/.test(match[1]) ? convertEscapes(match[1]) : match[1];\n        source = 'if(' + (XML_DOCUMENT ? 's.getAttribute(e,\"id\")' : '(e.submit?s.getAttribute(e,\"id\"):e.id)') + '==\"' + match[1] + '\"' + '){' + source + '}';\n      } else if (match = selector.match(Patterns.tagName)) {\n        test = Config.SVG_LCASE ? '||e.nodeName==\"' + match[1].toLowerCase() + '\"' : '';\n        source = 'if(e.nodeName' + (XML_DOCUMENT ? '==\"' + match[1] + '\"' : TO_UPPER_CASE + '==\"' + match[1].toUpperCase() + '\"' + test) + '){' + source + '}';\n      } else if (match = selector.match(Patterns.className)) {\n        match[1] = /\\\\/.test(match[1]) ? convertEscapes(match[1]) : match[1];\n        match[1] = QUIRKS_MODE ? match[1].toLowerCase() : match[1];\n        source = 'if((n=' + (XML_DOCUMENT ? 'e.getAttribute(\"class\")' : 'e.className') + ')&&n.length&&(\" \"+' + (QUIRKS_MODE ? 'n.toLowerCase()' : 'n') + '.replace(/' + whitespace + '+/g,\" \")+\" \").indexOf(\" ' + match[1] + ' \")>-1' + '){' + source + '}';\n      } else if (match = selector.match(Patterns.attribute)) {\n        expr = match[1].split(':');\n        expr = expr.length == 2 ? expr[1] : expr[0] + '';\n\n        if (match[2] && !Operators[match[2]]) {\n          emit('Unsupported operator in attribute selectors \"' + selector + '\"');\n          return '';\n        }\n\n        test = 'false';\n\n        if (match[2] && match[4] && (test = Operators[match[2]])) {\n          match[4] = /\\\\/.test(match[4]) ? convertEscapes(match[4]) : match[4];\n          type = match[5] == 'i' || HTML_TABLE[expr.toLowerCase()];\n          test = test.replace(/\\%m/g, type ? match[4].toLowerCase() : match[4]);\n        } else if (match[2] == '!=' || match[2] == '=') {\n          test = 'n' + match[2] + '=\"\"';\n        }\n\n        source = 'if(n=s.hasAttribute(e,\"' + match[1] + '\")){' + (match[2] ? 'n=s.getAttribute(e,\"' + match[1] + '\")' : '') + (type && match[2] ? '.toLowerCase();' : ';') + 'if(' + (match[2] ? test : 'n') + '){' + source + '}}';\n      } else if (match = selector.match(Patterns.adjacent)) {\n        source = NATIVE_TRAVERSAL_API ? 'var N' + k + '=e;if((e=e.previousElementSibling)){' + source + '}e=N' + k + ';' : 'var N' + k + '=e;while((e=e.previousSibling)){if(e.nodeType==1){' + source + 'break;}}e=N' + k + ';';\n      } else if (match = selector.match(Patterns.relative)) {\n        source = NATIVE_TRAVERSAL_API ? 'var N' + k + '=e;while((e=e.previousElementSibling)){' + source + '}e=N' + k + ';' : 'var N' + k + '=e;while((e=e.previousSibling)){if(e.nodeType==1){' + source + '}}e=N' + k + ';';\n      } else if (match = selector.match(Patterns.children)) {\n        source = 'var N' + k + '=e;if((e=e.parentNode)&&e.nodeType==1){' + source + '}e=N' + k + ';';\n      } else if (match = selector.match(Patterns.ancestor)) {\n        source = 'var N' + k + '=e;while((e=e.parentNode)&&e.nodeType==1){' + source + '}e=N' + k + ';';\n      } else if ((match = selector.match(Patterns.spseudos)) && match[1]) {\n        switch (match[1]) {\n          case 'root':\n            if (match[3]) {\n              source = 'if(e===h||s.contains(h,e)){' + source + '}';\n            } else {\n              source = 'if(e===h){' + source + '}';\n            }\n\n            break;\n\n          case 'empty':\n            source = 'if(s.isEmpty(e)){' + source + '}';\n            break;\n\n          default:\n            if (match[1] && match[2]) {\n              if (match[2] == 'n') {\n                source = 'if(e!==h){' + source + '}';\n                break;\n              } else if (match[2] == 'even') {\n                a = 2;\n                b = 0;\n              } else if (match[2] == 'odd') {\n                a = 2;\n                b = 1;\n              } else {\n                b = (n = match[2].match(/(-?\\d+)$/)) ? parseInt(n[1], 10) : 0;\n                a = (n = match[2].match(/(-?\\d*)n/i)) ? parseInt(n[1], 10) : 0;\n                if (n && n[1] == '-') a = -1;\n              }\n\n              test = a > 1 ? /last/i.test(match[1]) ? '(n-(' + b + '))%' + a + '==0' : 'n>=' + b + '&&(n-(' + b + '))%' + a + '==0' : a < -1 ? /last/i.test(match[1]) ? '(n-(' + b + '))%' + a + '==0' : 'n<=' + b + '&&(n-(' + b + '))%' + a + '==0' : a === 0 ? 'n==' + b : a == -1 ? 'n<=' + b : 'n>=' + b;\n              source = 'if(e!==h){' + 'n=s[' + (/-of-type/i.test(match[1]) ? '\"nthOfType\"' : '\"nthElement\"') + ']' + '(e,' + (/last/i.test(match[1]) ? 'true' : 'false') + ');' + 'if(' + test + '){' + source + '}' + '}';\n            } else {\n              a = /first/i.test(match[1]) ? 'previous' : 'next';\n              n = /only/i.test(match[1]) ? 'previous' : 'next';\n              b = /first|last/i.test(match[1]);\n              type = /-of-type/i.test(match[1]) ? '&&n.nodeName!=e.nodeName' : '&&n.nodeName<\"@\"';\n              source = 'if(e!==h){' + ('n=e;while((n=n.' + a + 'Sibling)' + type + ');if(!n){' + (b ? source : 'n=e;while((n=n.' + n + 'Sibling)' + type + ');if(!n){' + source + '}') + '}') + '}';\n            }\n\n            break;\n        }\n      } else if ((match = selector.match(Patterns.dpseudos)) && match[1]) {\n        switch (match[1].match(/^\\w+/)[0]) {\n          case 'matches':\n            expr = match[3].replace(reTrimSpaces, '');\n            source = 'if(s.match(e, \"' + expr.replace(/\\x22/g, '\\\\\"') + '\",g)){' + source + '}';\n            break;\n\n          case 'not':\n            expr = match[3].replace(reTrimSpaces, '');\n\n            if (Config.SIMPLENOT && !reSimpleNot.test(expr)) {\n              emit('Negation pseudo-class only accepts simple selectors \"' + selector + '\"');\n              return '';\n            } else {\n              if ('compatMode' in doc) {\n                source = 'if(!' + compile(expr, '', false) + '(e,s,d,h,g)){' + source + '}';\n              } else {\n                source = 'if(!s.match(e, \"' + expr.replace(/\\x22/g, '\\\\\"') + '\",g)){' + source + '}';\n              }\n            }\n\n            break;\n\n          case 'checked':\n            source = 'if((typeof e.form!==\"undefined\"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)' + (Config.USE_HTML5 ? '||(/^option$/i.test(e.nodeName)&&(e.selected||e.checked))' : '') + '){' + source + '}';\n            break;\n\n          case 'disabled':\n            source = 'if(((typeof e.form!==\"undefined\"' + (Config.USE_HTML5 ? '' : '&&!(/^hidden$/i).test(e.type)') + ')||s.isLink(e))&&e.disabled===true){' + source + '}';\n            break;\n\n          case 'enabled':\n            source = 'if(((typeof e.form!==\"undefined\"' + (Config.USE_HTML5 ? '' : '&&!(/^hidden$/i).test(e.type)') + ')||s.isLink(e))&&e.disabled===false){' + source + '}';\n            break;\n\n          case 'lang':\n            test = '';\n            if (match[2]) test = match[2].substr(0, 2) + '-';\n            source = 'do{(n=e.lang||\"\").toLowerCase();' + 'if((n==\"\"&&h.lang==\"' + match[2].toLowerCase() + '\")||' + '(n&&(n==\"' + match[2].toLowerCase() + '\"||n.substr(0,3)==\"' + test.toLowerCase() + '\")))' + '{' + source + 'break;}}while((e=e.parentNode)&&e!==g);';\n            break;\n\n          case 'target':\n            source = 'if(e.id==d.location.hash.slice(1)){' + source + '}';\n            break;\n\n          case 'link':\n            source = 'if(s.isLink(e)&&!e.visited){' + source + '}';\n            break;\n\n          case 'visited':\n            source = 'if(s.isLink(e)&&e.visited){' + source + '}';\n            break;\n\n          case 'active':\n            source = 'if(e===d.activeElement){' + source + '}';\n            break;\n\n          case 'hover':\n            source = 'if(e===d.hoverElement){' + source + '}';\n            break;\n\n          case 'focus':\n            source = 'hasFocus' in doc ? 'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\")){' + source + '}' : 'if(e===d.activeElement&&(e.type||e.href)){' + source + '}';\n            break;\n\n          case 'selected':\n            source = 'if(/^option$/i.test(e.nodeName)&&(e.selected||e.checked)){' + source + '}';\n            break;\n\n          default:\n            break;\n        }\n      } else if ((match = selector.match(Patterns.epseudos)) && match[1]) {\n        source = 'if(!(/1|11/).test(e.nodeType)){' + source + '}';\n      } else {\n        expr = false;\n        status = false;\n\n        for (expr in Selectors) {\n          if ((match = selector.match(Selectors[expr].Expression)) && match[1]) {\n            result = Selectors[expr].Callback(match, source);\n\n            if ('match' in result) {\n              match = result.match;\n            }\n\n            source = result.source;\n            status = result.status;\n\n            if (status) {\n              break;\n            }\n          }\n        }\n\n        if (!status) {\n          emit('Unknown pseudo-class selector \"' + selector + '\"');\n          return '';\n        }\n\n        if (!expr) {\n          emit('Unknown token in selector \"' + selector + '\"');\n          return '';\n        }\n      }\n\n      if (!match) {\n        emit('Invalid syntax in selector \"' + selector + '\"');\n        return '';\n      }\n\n      selector = match && match[match.length - 1];\n    }\n\n    return source;\n  },\n      match = function (element, selector, from, callback) {\n    var parts;\n\n    if (!(element && element.nodeType == 1)) {\n      emit('Invalid element argument');\n      return false;\n    } else if (typeof selector != 'string') {\n      emit('Invalid selector argument');\n      return false;\n    } else if (lastContext !== from) {\n      switchContext(from || (from = element.ownerDocument));\n    }\n\n    selector = selector.replace(reTrimSpaces, '').replace(/\\x00|\\\\$/g, '\\ufffd');\n    Config.SHORTCUTS && (selector = Dom.shortcuts(selector, element, from));\n\n    if (lastMatcher != selector) {\n      if ((parts = selector.match(reValidator)) && parts[0] == selector) {\n        isSingleMatch = (parts = selector.match(reSplitGroup)).length < 2;\n        lastMatcher = selector;\n        lastPartsMatch = parts;\n      } else {\n        emit('The string \"' + selector + '\", is not a valid CSS selector');\n        return false;\n      }\n    } else parts = lastPartsMatch;\n\n    if (!matchResolvers[selector] || matchContexts[selector] !== from) {\n      matchResolvers[selector] = compile(isSingleMatch ? [selector] : parts, '', false);\n      matchContexts[selector] = from;\n    }\n\n    return matchResolvers[selector](element, Snapshot, doc, root, from, callback);\n  },\n      first = function (selector, from) {\n    return select(selector, from, function () {\n      return false;\n    })[0] || null;\n  },\n      select = function (selector, from, callback) {\n    var i,\n        changed,\n        element,\n        elements,\n        parts,\n        token,\n        original = selector;\n\n    if (arguments.length === 0) {\n      emit('Not enough arguments');\n      return [];\n    } else if (typeof selector != 'string') {\n      return [];\n    } else if (from && !/1|9|11/.test(from.nodeType)) {\n      emit('Invalid or illegal context element');\n      return [];\n    } else if (lastContext !== from) {\n      switchContext(from || (from = doc));\n    }\n\n    if (Config.CACHING && (elements = Dom.loadResults(original, from, doc, root))) {\n      return callback ? concatCall([], elements, callback) : elements;\n    }\n\n    selector = selector.replace(reTrimSpaces, '').replace(/\\x00|\\\\$/g, '\\ufffd');\n    Config.SHORTCUTS && (selector = Dom.shortcuts(selector, from));\n\n    if (changed = lastSelector != selector) {\n      if ((parts = selector.match(reValidator)) && parts[0] == selector) {\n        isSingleSelect = (parts = selector.match(reSplitGroup)).length < 2;\n        lastSelector = selector;\n        lastPartsSelect = parts;\n      } else {\n        emit('The string \"' + selector + '\", is not a valid CSS selector');\n        return [];\n      }\n    } else parts = lastPartsSelect;\n\n    if (from.nodeType == 11) {\n      elements = byTagRaw('*', from);\n    } else if (isSingleSelect) {\n      if (changed) {\n        parts = selector.match(reSplitToken);\n        token = parts[parts.length - 1];\n        lastSlice = token.split(':not');\n        lastSlice = lastSlice[lastSlice.length - 1];\n        lastPosition = selector.length - token.length;\n      }\n\n      if (Config.UNIQUE_ID && lastSlice && (parts = lastSlice.match(Optimize.ID)) && (token = parts[1])) {\n        if (element = _byId(token, from)) {\n          if (match(element, selector)) {\n            callback && callback(element);\n            elements = [element];\n          } else elements = [];\n        }\n      } else if (Config.UNIQUE_ID && (parts = selector.match(Optimize.ID)) && (token = parts[1])) {\n        if (element = _byId(token, doc)) {\n          if ('#' + token == selector) {\n            callback && callback(element);\n            elements = [element];\n          } else if (/[>+~]/.test(selector)) {\n            from = element.parentNode;\n          } else {\n            from = element;\n          }\n        } else elements = [];\n      }\n\n      if (elements) {\n        Config.CACHING && Dom.saveResults(original, from, doc, elements);\n        return elements;\n      }\n\n      if (!XML_DOCUMENT && GEBTN && lastSlice && (parts = lastSlice.match(Optimize.TAG)) && (token = parts[1])) {\n        if ((elements = from.getElementsByTagName(token)).length === 0) {\n          return [];\n        }\n\n        selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace(token, '*');\n      } else if (!XML_DOCUMENT && GEBCN && lastSlice && (parts = lastSlice.match(Optimize.CLASS)) && (token = parts[1])) {\n        if ((elements = from.getElementsByClassName(unescapeIdentifier(token))).length === 0) {\n          return [];\n        }\n\n        selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace('.' + token, reOptimizeSelector.test(selector.charAt(selector.indexOf(token) - 1)) ? '' : '*');\n      }\n    }\n\n    if (!elements) {\n      if (IE_LT_9) {\n        elements = /^(?:applet|object)$/i.test(from.nodeName) ? from.children : byTagRaw('*', from);\n      } else {\n        elements = from.getElementsByTagName('*');\n      }\n    }\n\n    if (!selectResolvers[selector] || selectContexts[selector] !== from) {\n      selectResolvers[selector] = compile(isSingleSelect ? [selector] : parts, REJECT_NODE, true);\n      selectContexts[selector] = from;\n    }\n\n    elements = selectResolvers[selector](elements, Snapshot, doc, root, from, callback);\n    Config.CACHING && Dom.saveResults(original, from, doc, elements);\n    return elements;\n  },\n      FN = function (x) {\n    return x;\n  },\n      matchContexts = {},\n      matchResolvers = {},\n      selectContexts = {},\n      selectResolvers = {},\n      Snapshot = {\n    byId: _byId,\n    match: match,\n    select: select,\n    isLink: isLink,\n    isEmpty: isEmpty,\n    contains: contains,\n    nthOfType: nthOfType,\n    nthElement: nthElement,\n    getAttribute: getAttribute,\n    hasAttribute: hasAttribute\n  },\n      Dom = {\n    ACCEPT_NODE: ACCEPT_NODE,\n    byId: byId,\n    match: match,\n    first: first,\n    select: select,\n    compile: compile,\n    contains: contains,\n    configure: configure,\n    getAttribute: getAttribute,\n    hasAttribute: hasAttribute,\n    setCache: FN,\n    shortcuts: FN,\n    loadResults: FN,\n    saveResults: FN,\n    emit: emit,\n    Config: Config,\n    Snapshot: Snapshot,\n    Operators: Operators,\n    Selectors: Selectors,\n    Tokens: Tokens,\n    Version: version,\n    registerOperator: function (symbol, resolver) {\n      Operators[symbol] || (Operators[symbol] = resolver);\n    },\n    registerSelector: function (name, rexp, func) {\n      Selectors[name] || (Selectors[name] = {\n        Expression: rexp,\n        Callback: func\n      });\n    }\n  };\n\n  initialize(doc);\n  return Dom;\n});","map":{"version":3,"sources":["F:/JavaScript/Projects/chemistryphile/node_modules/nwmatcher/src/nwmatcher-noqsa.js"],"names":["global","factory","module","exports","define","NW","Dom","version","doc","document","root","documentElement","isSingleMatch","isSingleSelect","lastSlice","lastContext","lastPosition","lastMatcher","lastSelector","lastPartsMatch","lastPartsSelect","prefixes","operators","whitespace","combinators","pseudoparms","skip_groups","any_esc_chr","alphalodash","non_asc_chr","escaped_chr","unicode_chr","quotedvalue","reSplitGroup","reTrimSpaces","RegExp","reEscapedChars","standardValidator","extendedValidator","reValidator","attrcheck","attributes","attrmatcher","pseudoclass","reOptimizeSelector","reSimpleNot","reSplitToken","Optimize","identifier","extensions","Patterns","spseudos","dpseudos","epseudos","children","adjacent","relative","ancestor","universal","Tokens","QUIRKS_MODE","XML_DOCUMENT","GEBTN","GEBCN","IE_LT_9","addEventListener","LINK_NODES","a","A","area","AREA","link","LINK","ATTR_BOOLEAN","checked","disabled","ismap","multiple","readonly","selected","ATTR_DEFAULT","value","ATTR_URIDATA","action","cite","codebase","data","href","longdesc","lowsrc","src","usemap","HTML_TABLE","NATIVE_TRAVERSAL_API","Selectors","Operators","concatCall","elements","callback","i","element","length","switchContext","from","force","oldDoc","ownerDocument","createElement","nodeName","compatMode","indexOf","style","width","Config","CACHING","setCache","codePointToUTF16","codePoint","lowHex","toString","substr","stringFromCodePoint","String","fromCharCode","fromCodePoint","convertEscapes","str","replace","substring","p1","p2","test","parseInt","unescapeIdentifier","byIdRaw","id","getAttribute","_byId","getElementById","getElementsByTagName","nodeType","name","getElementsByName","byId","byTagRaw","tag","any","next","firstChild","toUpperCase","tagName","nextSibling","parentNode","contains","container","compareDocumentPosition","node","attribute","toLowerCase","getAttributeNode","hasAttribute","obj","specified","isEmpty","isLink","nthElement","last","count","succ","nthOfType","type","configure","option","matchContexts","matchResolvers","selectContexts","selectResolvers","setIdentifierSyntax","SIMPLENOT","emit","message","VERBOSITY","Error","LOGERRORS","console","log","ESCAPECHR","NON_ASCII","SELECTOR3","UNICODE16","SHORTCUTS","SVG_LCASE","UNIQUE_ID","USE_HTML5","initialize","syntax","start","ID","TAG","CLASS","className","ACCEPT_NODE","REJECT_NODE","TO_UPPER_CASE","compile","selector","source","mode","parts","match","compileSelector","seen","token","Function","b","n","k","expr","result","status","split","Expression","Callback","shortcuts","Snapshot","first","select","changed","original","arguments","loadResults","saveResults","slice","getElementsByClassName","charAt","FN","x","Version","registerOperator","symbol","resolver","registerSelector","rexp","func"],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2007-2018 Diego Perini\n * All rights reserved.\n *\n * nwmatcher-noqsa.js - A fast CSS selector engine and matcher\n *\n * Author: Diego Perini <diego.perini at gmail com>\n * Version: 1.4.4\n * Created: 20070722\n * Release: 20180305\n *\n * License:\n *  http://javascript.nwbox.com/NWMatcher/MIT-LICENSE\n * Download:\n *  http://javascript.nwbox.com/NWMatcher/nwmatcher.js\n */\n\n(function(global, factory) {\n\n  if (typeof module == 'object' && typeof exports == 'object') {\n    module.exports = factory;\n  } else if (typeof define === 'function' && define[\"amd\"]) {\n    define(factory);\n  } else {\n    global.NW || (global.NW = { });\n    global.NW.Dom = factory(global);\n  }\n\n})(this, function(global) {\n\n  var version = 'nwmatcher-1.4.4',\n\n  doc = global.document,\n  root = doc.documentElement,\n\n  isSingleMatch,\n  isSingleSelect,\n\n  lastSlice,\n  lastContext,\n  lastPosition,\n\n  lastMatcher,\n  lastSelector,\n\n  lastPartsMatch,\n  lastPartsSelect,\n\n  prefixes = '(?:[#.:]|::)?',\n  operators = '([~*^$|!]?={1})',\n  whitespace = '[\\\\x20\\\\t\\\\n\\\\r\\\\f]',\n  combinators = '\\\\x20|[>+~](?=[^>+~])',\n  pseudoparms = '(?:[-+]?\\\\d*n)?[-+]?\\\\d*',\n  skip_groups = '\\\\[.*\\\\]|\\\\(.*\\\\)|\\\\{.*\\\\}',\n\n  any_esc_chr = '\\\\\\\\.',\n  alphalodash = '[_a-zA-Z]',\n  non_asc_chr = '[^\\\\x00-\\\\x9f]',\n  escaped_chr = '\\\\\\\\[^\\\\n\\\\r\\\\f0-9a-fA-F]',\n  unicode_chr = '\\\\\\\\[0-9a-fA-F]{1,6}(?:\\\\r\\\\n|' + whitespace + ')?',\n\n  quotedvalue = '\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*\"' + \"|'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*'\",\n\n  reSplitGroup = /([^,\\\\()[\\]]+|\\[[^[\\]]*\\]|\\[.*\\]|\\([^()]+\\)|\\(.*\\)|\\{[^{}]+\\}|\\{.*\\}|\\\\.)+/g,\n\n  reTrimSpaces = RegExp('[\\\\n\\\\r\\\\f]|^' + whitespace + '+|' + whitespace + '+$', 'g'),\n\n  reEscapedChars = /\\\\([0-9a-fA-F]{1,6}[\\x20\\t\\n\\r\\f]?|.)|([\\x22\\x27])/g,\n\n  standardValidator, extendedValidator, reValidator,\n\n  attrcheck, attributes, attrmatcher, pseudoclass,\n\n  reOptimizeSelector, reSimpleNot, reSplitToken,\n\n  Optimize, identifier, extensions = '.+',\n\n  Patterns = {\n    spseudos: /^\\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\\(\\s?(even|odd|(?:[-+]{0,1}\\d*n\\s?)?[-+]{0,1}\\s?\\d*)\\s?\\))?(.*)/i,\n    dpseudos: /^\\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\\(([-\\w]{2,})\\)|(?:matches|not)\\(\\s?(:nth(?:-last)?(?:-child|-of-type)\\(\\s?(?:even|odd|(?:[-+]{0,1}\\d*n\\s?)?[-+]{0,1}\\s?\\d*)\\s?\\)|[^()]*)\\s?\\))?(.*)/i,\n    epseudos: /^((?:[:]{1,2}(?:after|before|first-letter|first-line))|(?:[:]{2,2}(?:selection|backdrop|placeholder)))?(.*)/i,\n    children: RegExp('^' + whitespace + '?\\\\>' + whitespace + '?(.*)'),\n    adjacent: RegExp('^' + whitespace + '?\\\\+' + whitespace + '?(.*)'),\n    relative: RegExp('^' + whitespace + '?\\\\~' + whitespace + '?(.*)'),\n    ancestor: RegExp('^' + whitespace + '+(.*)'),\n    universal: RegExp('^\\\\*(.*)')\n  },\n\n  Tokens = {\n    prefixes: prefixes,\n    identifier: identifier,\n    attributes: attributes\n  },\n\n  QUIRKS_MODE,\n  XML_DOCUMENT,\n\n  GEBTN = 'getElementsByTagName' in doc,\n  GEBCN = 'getElementsByClassName' in doc,\n\n  IE_LT_9 = typeof doc.addEventListener != 'function',\n\n  LINK_NODES = { a: 1, A: 1, area: 1, AREA: 1, link: 1, LINK: 1 },\n\n  ATTR_BOOLEAN = {\n    checked: 1, disabled: 1, ismap: 1,\n    multiple: 1, readonly: 1, selected: 1\n  },\n\n  ATTR_DEFAULT = {\n    value: 'defaultValue',\n    checked: 'defaultChecked',\n    selected: 'defaultSelected'\n  },\n\n  ATTR_URIDATA = {\n    action: 2, cite: 2, codebase: 2, data: 2, href: 2,\n    longdesc: 2, lowsrc: 2, src: 2, usemap: 2\n  },\n\n  HTML_TABLE = {\n    'accept': 1, 'accept-charset': 1, 'align': 1, 'alink': 1, 'axis': 1,\n    'bgcolor': 1, 'charset': 1, 'checked': 1, 'clear': 1, 'codetype': 1, 'color': 1,\n    'compact': 1, 'declare': 1, 'defer': 1, 'dir': 1, 'direction': 1, 'disabled': 1,\n    'enctype': 1, 'face': 1, 'frame': 1, 'hreflang': 1, 'http-equiv': 1, 'lang': 1,\n    'language': 1, 'link': 1, 'media': 1, 'method': 1, 'multiple': 1, 'nohref': 1,\n    'noresize': 1, 'noshade': 1, 'nowrap': 1, 'readonly': 1, 'rel': 1, 'rev': 1,\n    'rules': 1, 'scope': 1, 'scrolling': 1, 'selected': 1, 'shape': 1, 'target': 1,\n    'text': 1, 'type': 1, 'valign': 1, 'valuetype': 1, 'vlink': 1\n  },\n\n  NATIVE_TRAVERSAL_API =\n    'nextElementSibling' in root &&\n    'previousElementSibling' in root,\n\n  Selectors = { },\n\n  Operators = {\n     '=': \"n=='%m'\",\n    '^=': \"n.indexOf('%m')==0\",\n    '*=': \"n.indexOf('%m')>-1\",\n    '|=': \"(n+'-').indexOf('%m-')==0\",\n    '~=': \"(' '+n+' ').indexOf(' %m ')>-1\",\n    '$=': \"n.substr(n.length-'%m'.length)=='%m'\"\n  },\n\n  concatCall =\n    function(data, elements, callback) {\n      var i = -1, element;\n      while ((element = elements[++i])) {\n        if (false === callback(data[data.length] = element)) { break; }\n      }\n      return data;\n    },\n\n  switchContext =\n    function(from, force) {\n      var oldDoc = doc;\n      lastContext = from;\n      doc = from.ownerDocument || from;\n      if (force || oldDoc !== doc) {\n        root = doc.documentElement;\n        XML_DOCUMENT = doc.createElement('DiV').nodeName == 'DiV';\n        QUIRKS_MODE = !XML_DOCUMENT &&\n          typeof doc.compatMode == 'string' ?\n          doc.compatMode.indexOf('CSS') < 0 :\n          (function() {\n            var style = doc.createElement('div').style;\n            return style && (style.width = 1) && style.width == '1px';\n          })();\n\n        Config.CACHING && Dom.setCache(true, doc);\n      }\n    },\n\n  codePointToUTF16 =\n    function(codePoint) {\n      if (codePoint < 1 || codePoint > 0x10ffff ||\n        (codePoint > 0xd7ff && codePoint < 0xe000)) {\n        return '\\\\ufffd';\n      }\n      if (codePoint < 0x10000) {\n        var lowHex = '000' + codePoint.toString(16);\n        return '\\\\u' + lowHex.substr(lowHex.length - 4);\n      }\n      return '\\\\u' + (((codePoint - 0x10000) >> 0x0a) + 0xd800).toString(16) +\n             '\\\\u' + (((codePoint - 0x10000) % 0x400) + 0xdc00).toString(16);\n    },\n\n  stringFromCodePoint =\n    function(codePoint) {\n      if (codePoint < 1 || codePoint > 0x10ffff ||\n        (codePoint > 0xd7ff && codePoint < 0xe000)) {\n        return '\\ufffd';\n      }\n      if (codePoint < 0x10000) {\n        return String.fromCharCode(codePoint);\n      }\n      return String.fromCodePoint ?\n        String.fromCodePoint(codePoint) :\n        String.fromCharCode(\n          ((codePoint - 0x10000) >> 0x0a) + 0xd800,\n          ((codePoint - 0x10000) % 0x400) + 0xdc00);\n    },\n\n  convertEscapes =\n    function(str) {\n      return str.replace(reEscapedChars,\n          function(substring, p1, p2) {\n            return p2 ? '\\\\' + p2 :\n              (/^[0-9a-fA-F]/).test(p1) ? codePointToUTF16(parseInt(p1, 16)) :\n              (/^[\\\\\\x22\\x27]/).test(p1) ? substring :\n              p1;\n          }\n        );\n    },\n\n  unescapeIdentifier =\n    function(str) {\n      return str.replace(reEscapedChars,\n          function(substring, p1, p2) {\n            return p2 ? p2 :\n              (/^[0-9a-fA-F]/).test(p1) ? stringFromCodePoint(parseInt(p1, 16)) :\n              (/^[\\\\\\x22\\x27]/).test(p1) ? substring :\n              p1;\n          }\n        );\n    },\n\n  byIdRaw =\n    function(id, elements) {\n      var i = -1, element;\n      while ((element = elements[++i])) {\n        if (element.getAttribute('id') == id) {\n          break;\n        }\n      }\n      return element || null;\n    },\n\n  _byId = !IE_LT_9 ?\n    function(id, from) {\n      id = (/\\\\/).test(id) ? unescapeIdentifier(id) : id;\n      return from.getElementById && from.getElementById(id) ||\n        byIdRaw(id, from.getElementsByTagName('*'));\n    } :\n    function(id, from) {\n      var element = null;\n      id = (/\\\\/).test(id) ? unescapeIdentifier(id) : id;\n      if (XML_DOCUMENT || from.nodeType != 9) {\n        return byIdRaw(id, from.getElementsByTagName('*'));\n      }\n      if ((element = from.getElementById(id)) &&\n        element.name == id && from.getElementsByName) {\n        return byIdRaw(id, from.getElementsByName(id));\n      }\n      return element;\n    },\n\n  byId =\n    function(id, from) {\n      from || (from = doc);\n      if (lastContext !== from) { switchContext(from); }\n      return _byId(id, from);\n    },\n\n  byTagRaw =\n    function(tag, from) {\n      var any = tag == '*', element = from, elements = [ ], next = element.firstChild;\n      any || (tag = tag.toUpperCase());\n      while ((element = next)) {\n        if (element.tagName > '@' && (any || element.tagName.toUpperCase() == tag)) {\n          elements[elements.length] = element;\n        }\n        if ((next = element.firstChild || element.nextSibling)) continue;\n        while (!next && (element = element.parentNode) && element !== from) {\n          next = element.nextSibling;\n        }\n      }\n      return elements;\n    },\n\n  contains = 'compareDocumentPosition' in root ?\n    function(container, element) {\n      return (container.compareDocumentPosition(element) & 16) == 16;\n    } : 'contains' in root ?\n    function(container, element) {\n      return container !== element && container.contains(element);\n    } :\n    function(container, element) {\n      while ((element = element.parentNode)) {\n        if (element === container) return true;\n      }\n      return false;\n    },\n\n  getAttribute = !IE_LT_9 ?\n    function(node, attribute) {\n      return node.getAttribute(attribute);\n    } :\n    function(node, attribute) {\n      attribute = attribute.toLowerCase();\n      if (typeof node[attribute] == 'object') {\n        return node.attributes[attribute] &&\n          node.attributes[attribute].value;\n      }\n      return (\n        attribute == 'type' ? node.getAttribute(attribute) :\n        ATTR_URIDATA[attribute] ? node.getAttribute(attribute, 2) :\n        ATTR_BOOLEAN[attribute] ? node.getAttribute(attribute) ? attribute : 'false' :\n          (node = node.getAttributeNode(attribute)) && node.value);\n    },\n\n  hasAttribute = !IE_LT_9 && root.hasAttribute ?\n    function(node, attribute) {\n      return node.hasAttribute(attribute);\n    } :\n    function(node, attribute) {\n      var obj = node.getAttributeNode(attribute = attribute.toLowerCase());\n      return ATTR_DEFAULT[attribute] && attribute != 'value' ?\n        node[ATTR_DEFAULT[attribute]] : obj && obj.specified;\n    },\n\n  isEmpty =\n    function(node) {\n      node = node.firstChild;\n      while (node) {\n        if (node.nodeType == 3 || node.nodeName > '@') return false;\n        node = node.nextSibling;\n      }\n      return true;\n    },\n\n  isLink =\n    function(element) {\n      return hasAttribute(element, 'href') && LINK_NODES[element.nodeName];\n    },\n\n  nthElement =\n    function(element, last) {\n      var count = 1, succ = last ? 'nextSibling' : 'previousSibling';\n      while ((element = element[succ])) {\n        if (element.nodeName > '@') ++count;\n      }\n      return count;\n    },\n\n  nthOfType =\n    function(element, last) {\n      var count = 1, succ = last ? 'nextSibling' : 'previousSibling', type = element.nodeName;\n      while ((element = element[succ])) {\n        if (element.nodeName == type) ++count;\n      }\n      return count;\n    },\n\n  configure =\n    function(option) {\n      if (typeof option == 'string') { return !!Config[option]; }\n      if (typeof option != 'object') { return Config; }\n      for (var i in option) {\n        Config[i] = !!option[i];\n        if (i == 'SIMPLENOT') {\n          matchContexts = { };\n          matchResolvers = { };\n          selectContexts = { };\n          selectResolvers = { };\n        }\n      }\n      setIdentifierSyntax();\n      reValidator = RegExp(Config.SIMPLENOT ?\n        standardValidator : extendedValidator);\n      return true;\n    },\n\n  emit =\n    function(message) {\n      if (Config.VERBOSITY) { throw Error(message); }\n      if (Config.LOGERRORS && console && console.log) {\n        console.log(message);\n      }\n    },\n\n  Config = {\n    CACHING: false,\n    ESCAPECHR: true,\n    NON_ASCII: true,\n    SELECTOR3: true,\n    UNICODE16: true,\n    SHORTCUTS: false,\n    SIMPLENOT: true,\n    SVG_LCASE: false,\n    UNIQUE_ID: true,\n    USE_HTML5: true,\n    VERBOSITY: true,\n    LOGERRORS: true\n  },\n\n  initialize =\n    function(doc) {\n      setIdentifierSyntax();\n      switchContext(doc, true);\n    },\n\n  setIdentifierSyntax =\n    function() {\n\n      var syntax = '', start = Config['SELECTOR3'] ? '-{2}|' : '';\n\n      Config['NON_ASCII'] && (syntax += '|' + non_asc_chr);\n      Config['UNICODE16'] && (syntax += '|' + unicode_chr);\n      Config['ESCAPECHR'] && (syntax += '|' + escaped_chr);\n\n      syntax += (Config['UNICODE16'] || Config['ESCAPECHR']) ? '' : '|' + any_esc_chr;\n\n      identifier = '-?(?:' + start + alphalodash + syntax + ')(?:-|[0-9]|' + alphalodash + syntax + ')*';\n\n      attrcheck = '(' + quotedvalue + '|' + identifier + ')';\n      attributes = whitespace + '*(' + identifier + '(?::' + identifier + ')?)' +\n        whitespace + '*(?:' + operators + whitespace + '*' + attrcheck + ')?' + whitespace + '*' + '(i)?' + whitespace + '*';\n      attrmatcher = attributes.replace(attrcheck, '([\\\\x22\\\\x27]*)((?:\\\\\\\\?.)*?)\\\\3');\n\n      pseudoclass = '((?:' +\n        pseudoparms + '|' + quotedvalue + '|' +\n        prefixes + identifier + '|' +\n        '\\\\[' + attributes + '\\\\]|' +\n        '\\\\(.+\\\\)|' + whitespace + '*|' +\n        ',)+)';\n\n      standardValidator =\n        '(?=[\\\\x20\\\\t\\\\n\\\\r\\\\f]*[^>+~(){}<>])' +\n        '(' +\n        '\\\\*' +\n        '|(?:' + prefixes + identifier + ')' +\n        '|' + combinators +\n        '|\\\\[' + attributes + '\\\\]' +\n        '|\\\\(' + pseudoclass + '\\\\)' +\n        '|\\\\{' + extensions + '\\\\}' +\n        '|(?:,|' + whitespace + '*)' +\n        ')+';\n\n      reSimpleNot = RegExp('^(' +\n        '(?!:not)' +\n        '(' + prefixes + identifier +\n        '|\\\\([^()]*\\\\))+' +\n        '|\\\\[' + attributes + '\\\\]' +\n        ')$');\n\n      reSplitToken = RegExp('(' +\n        prefixes + identifier + '|' +\n        '\\\\[' + attributes + '\\\\]|' +\n        '\\\\(' + pseudoclass + '\\\\)|' +\n        '\\\\\\\\.|[^\\\\x20\\\\t\\\\n\\\\r\\\\f>+~])+', 'g');\n\n      reOptimizeSelector = RegExp(identifier + '|^$');\n\n      Optimize = {\n        ID: RegExp('^\\\\*?#(' + identifier + ')|' + skip_groups),\n        TAG: RegExp('^(' + identifier + ')|' + skip_groups),\n        CLASS: RegExp('^\\\\.(' + identifier + '$)|' + skip_groups)\n      };\n\n      Patterns.id = RegExp('^#(' + identifier + ')(.*)');\n      Patterns.tagName = RegExp('^(' + identifier + ')(.*)');\n      Patterns.className = RegExp('^\\\\.(' + identifier + ')(.*)');\n      Patterns.attribute = RegExp('^\\\\[' + attrmatcher + '\\\\](.*)');\n\n      Tokens.identifier = identifier;\n      Tokens.attributes = attributes;\n\n      extendedValidator = standardValidator.replace(pseudoclass, '.*');\n\n      reValidator = RegExp(standardValidator);\n    },\n\n  ACCEPT_NODE = 'r[r.length]=c[k];if(f&&false===f(c[k]))break main;else continue main;',\n  REJECT_NODE = IE_LT_9 ? 'if(e.nodeName<\"A\")continue;' : '',\n  TO_UPPER_CASE = IE_LT_9 ? '.toUpperCase()' : '',\n\n  compile =\n    function(selector, source, mode) {\n\n      var parts = typeof selector == 'string' ? selector.match(reSplitGroup) : selector;\n\n      typeof source == 'string' || (source = '');\n\n      if (parts.length == 1) {\n        source += compileSelector(parts[0], mode ? ACCEPT_NODE : 'f&&f(k);return true;', mode);\n      } else {\n        var i = -1, seen = { }, token;\n        while ((token = parts[++i])) {\n          token = token.replace(reTrimSpaces, '');\n          if (!seen[token] && (seen[token] = true)) {\n            source += compileSelector(token, mode ? ACCEPT_NODE : 'f&&f(k);return true;', mode);\n          }\n        }\n      }\n\n      if (mode) {\n        return Function('c,s,d,h,g,f',\n          'var N,n,x=0,k=-1,e,r=[];main:while((e=c[++k])){' + source + '}return r;');\n      } else {\n        return Function('e,s,d,h,g,f',\n          'var N,n,x=0,k=e;' + source + 'return false;');\n      }\n    },\n\n  compileSelector =\n    function(selector, source, mode) {\n\n      var a, b, n, k = 0, expr, match, result, status, test, type;\n\n      while (selector) {\n\n        k++;\n\n        if ((match = selector.match(Patterns.universal))) {\n          expr = '';\n        }\n\n        else if ((match = selector.match(Patterns.id))) {\n          match[1] = (/\\\\/).test(match[1]) ? convertEscapes(match[1]) : match[1];\n          source = 'if(' + (XML_DOCUMENT ?\n            's.getAttribute(e,\"id\")' :\n            '(e.submit?s.getAttribute(e,\"id\"):e.id)') +\n            '==\"' + match[1] + '\"' +\n            '){' + source + '}';\n        }\n\n        else if ((match = selector.match(Patterns.tagName))) {\n          test = Config.SVG_LCASE ? '||e.nodeName==\"' + match[1].toLowerCase() + '\"' : '';\n          source = 'if(e.nodeName' + (XML_DOCUMENT ?\n            '==\"' + match[1] + '\"' : TO_UPPER_CASE +\n            '==\"' + match[1].toUpperCase() + '\"' + test) +\n            '){' + source + '}';\n        }\n\n        else if ((match = selector.match(Patterns.className))) {\n          match[1] = (/\\\\/).test(match[1]) ? convertEscapes(match[1]) : match[1];\n          match[1] = QUIRKS_MODE ? match[1].toLowerCase() : match[1];\n          source = 'if((n=' + (XML_DOCUMENT ?\n            'e.getAttribute(\"class\")' : 'e.className') +\n            ')&&n.length&&(\" \"+' + (QUIRKS_MODE ? 'n.toLowerCase()' : 'n') +\n            '.replace(/' + whitespace + '+/g,\" \")+\" \").indexOf(\" ' + match[1] + ' \")>-1' +\n            '){' + source + '}';\n        }\n\n        else if ((match = selector.match(Patterns.attribute))) {\n          expr = match[1].split(':');\n          expr = expr.length == 2 ? expr[1] : expr[0] + '';\n\n          if (match[2] && !Operators[match[2]]) {\n            emit('Unsupported operator in attribute selectors \"' + selector + '\"');\n            return '';\n          }\n          test = 'false';\n          if (match[2] && match[4] && (test = Operators[match[2]])) {\n            match[4] = (/\\\\/).test(match[4]) ? convertEscapes(match[4]) : match[4];\n            type = match[5] == 'i' || HTML_TABLE[expr.toLowerCase()];\n            test = test.replace(/\\%m/g, type ? match[4].toLowerCase() : match[4]);\n          } else if (match[2] == '!=' || match[2] == '=') {\n            test = 'n' + match[2] + '=\"\"';\n          }\n          source = 'if(n=s.hasAttribute(e,\"' + match[1] + '\")){' +\n            (match[2] ? 'n=s.getAttribute(e,\"' + match[1] + '\")' : '') +\n            (type && match[2] ? '.toLowerCase();' : ';') +\n            'if(' + (match[2] ? test : 'n') + '){' + source + '}}';\n        }\n\n        else if ((match = selector.match(Patterns.adjacent))) {\n          source = NATIVE_TRAVERSAL_API ?\n            'var N' + k + '=e;if((e=e.previousElementSibling)){' + source + '}e=N' + k + ';' :\n            'var N' + k + '=e;while((e=e.previousSibling)){if(e.nodeType==1){' + source + 'break;}}e=N' + k + ';';\n        }\n\n        else if ((match = selector.match(Patterns.relative))) {\n          source = NATIVE_TRAVERSAL_API ?\n            'var N' + k + '=e;while((e=e.previousElementSibling)){' + source + '}e=N' + k + ';' :\n            'var N' + k + '=e;while((e=e.previousSibling)){if(e.nodeType==1){' + source + '}}e=N' + k + ';';\n        }\n\n        else if ((match = selector.match(Patterns.children))) {\n          source = 'var N' + k + '=e;if((e=e.parentNode)&&e.nodeType==1){' + source + '}e=N' + k + ';';\n        }\n\n        else if ((match = selector.match(Patterns.ancestor))) {\n          source = 'var N' + k + '=e;while((e=e.parentNode)&&e.nodeType==1){' + source + '}e=N' + k + ';';\n        }\n\n        else if ((match = selector.match(Patterns.spseudos)) && match[1]) {\n          switch (match[1]) {\n            case 'root':\n              if (match[3]) {\n                source = 'if(e===h||s.contains(h,e)){' + source + '}';\n              } else {\n                source = 'if(e===h){' + source + '}';\n              }\n              break;\n            case 'empty':\n              source = 'if(s.isEmpty(e)){' + source + '}';\n              break;\n            default:\n              if (match[1] && match[2]) {\n                if (match[2] == 'n') {\n                  source = 'if(e!==h){' + source + '}';\n                  break;\n                } else if (match[2] == 'even') {\n                  a = 2;\n                  b = 0;\n                } else if (match[2] == 'odd') {\n                  a = 2;\n                  b = 1;\n                } else {\n                  b = ((n = match[2].match(/(-?\\d+)$/)) ? parseInt(n[1], 10) : 0);\n                  a = ((n = match[2].match(/(-?\\d*)n/i)) ? parseInt(n[1], 10) : 0);\n                  if (n && n[1] == '-') a = -1;\n                }\n                test = a > 1 ?\n                  (/last/i.test(match[1])) ? '(n-(' + b + '))%' + a + '==0' :\n                  'n>=' + b + '&&(n-(' + b + '))%' + a + '==0' : a < -1 ?\n                  (/last/i.test(match[1])) ? '(n-(' + b + '))%' + a + '==0' :\n                  'n<=' + b + '&&(n-(' + b + '))%' + a + '==0' : a === 0 ?\n                  'n==' + b : a == -1 ? 'n<=' + b : 'n>=' + b;\n                source =\n                  'if(e!==h){' +\n                    'n=s[' + (/-of-type/i.test(match[1]) ? '\"nthOfType\"' : '\"nthElement\"') + ']' +\n                      '(e,' + (/last/i.test(match[1]) ? 'true' : 'false') + ');' +\n                    'if(' + test + '){' + source + '}' +\n                  '}';\n              } else {\n                a = /first/i.test(match[1]) ? 'previous' : 'next';\n                n = /only/i.test(match[1]) ? 'previous' : 'next';\n                b = /first|last/i.test(match[1]);\n                type = /-of-type/i.test(match[1]) ? '&&n.nodeName!=e.nodeName' : '&&n.nodeName<\"@\"';\n                source = 'if(e!==h){' +\n                  ( 'n=e;while((n=n.' + a + 'Sibling)' + type + ');if(!n){' + (b ? source :\n                    'n=e;while((n=n.' + n + 'Sibling)' + type + ');if(!n){' + source + '}') + '}' ) + '}';\n              }\n              break;\n          }\n        }\n\n        else if ((match = selector.match(Patterns.dpseudos)) && match[1]) {\n          switch (match[1].match(/^\\w+/)[0]) {\n            case 'matches':\n              expr = match[3].replace(reTrimSpaces, '');\n              source = 'if(s.match(e, \"' + expr.replace(/\\x22/g, '\\\\\"') + '\",g)){' + source +'}';\n              break;\n\n            case 'not':\n              expr = match[3].replace(reTrimSpaces, '');\n              if (Config.SIMPLENOT && !reSimpleNot.test(expr)) {\n                emit('Negation pseudo-class only accepts simple selectors \"' + selector + '\"');\n                return '';\n              } else {\n                if ('compatMode' in doc) {\n                  source = 'if(!' + compile(expr, '', false) + '(e,s,d,h,g)){' + source + '}';\n                } else {\n                  source = 'if(!s.match(e, \"' + expr.replace(/\\x22/g, '\\\\\"') + '\",g)){' + source +'}';\n                }\n              }\n              break;\n            case 'checked':\n              source = 'if((typeof e.form!==\"undefined\"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)' +\n                (Config.USE_HTML5 ? '||(/^option$/i.test(e.nodeName)&&(e.selected||e.checked))' : '') +\n                '){' + source + '}';\n              break;\n            case 'disabled':\n              source = 'if(((typeof e.form!==\"undefined\"' +\n                (Config.USE_HTML5 ? '' : '&&!(/^hidden$/i).test(e.type)') +\n                ')||s.isLink(e))&&e.disabled===true){' + source + '}';\n              break;\n            case 'enabled':\n              source = 'if(((typeof e.form!==\"undefined\"' +\n                (Config.USE_HTML5 ? '' : '&&!(/^hidden$/i).test(e.type)') +\n                ')||s.isLink(e))&&e.disabled===false){' + source + '}';\n              break;\n            case 'lang':\n              test = '';\n              if (match[2]) test = match[2].substr(0, 2) + '-';\n              source = 'do{(n=e.lang||\"\").toLowerCase();' +\n                'if((n==\"\"&&h.lang==\"' + match[2].toLowerCase() + '\")||' +\n                '(n&&(n==\"' + match[2].toLowerCase() +\n                '\"||n.substr(0,3)==\"' + test.toLowerCase() + '\")))' +\n                '{' + source + 'break;}}while((e=e.parentNode)&&e!==g);';\n              break;\n            case 'target':\n              source = 'if(e.id==d.location.hash.slice(1)){' + source + '}';\n              break;\n            case 'link':\n              source = 'if(s.isLink(e)&&!e.visited){' + source + '}';\n              break;\n            case 'visited':\n              source = 'if(s.isLink(e)&&e.visited){' + source + '}';\n              break;\n            case 'active':\n              source = 'if(e===d.activeElement){' + source + '}';\n              break;\n            case 'hover':\n              source = 'if(e===d.hoverElement){' + source + '}';\n              break;\n            case 'focus':\n              source = 'hasFocus' in doc ?\n                'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\")){' + source + '}' :\n                'if(e===d.activeElement&&(e.type||e.href)){' + source + '}';\n              break;\n            case 'selected':\n              source = 'if(/^option$/i.test(e.nodeName)&&(e.selected||e.checked)){' + source + '}';\n              break;\n            default:\n              break;\n          }\n        }\n\n        else if ((match = selector.match(Patterns.epseudos)) && match[1]) {\n          source = 'if(!(/1|11/).test(e.nodeType)){' + source + '}';\n        }\n\n        else {\n\n          expr = false;\n          status = false;\n          for (expr in Selectors) {\n            if ((match = selector.match(Selectors[expr].Expression)) && match[1]) {\n              result = Selectors[expr].Callback(match, source);\n              if ('match' in result) { match = result.match; }\n              source = result.source;\n              status = result.status;\n              if (status) { break; }\n            }\n          }\n\n          if (!status) {\n            emit('Unknown pseudo-class selector \"' + selector + '\"');\n            return '';\n          }\n\n          if (!expr) {\n            emit('Unknown token in selector \"' + selector + '\"');\n            return '';\n          }\n\n        }\n\n        if (!match) {\n          emit('Invalid syntax in selector \"' + selector + '\"');\n          return '';\n        }\n\n        selector = match && match[match.length - 1];\n      }\n\n      return source;\n    },\n\n  match =\n    function(element, selector, from, callback) {\n\n      var parts;\n\n      if (!(element && element.nodeType == 1)) {\n        emit('Invalid element argument');\n        return false;\n      } else if (typeof selector != 'string') {\n        emit('Invalid selector argument');\n        return false;\n      } else if (lastContext !== from) {\n        switchContext(from || (from = element.ownerDocument));\n      }\n\n      selector = selector.\n        replace(reTrimSpaces, '').\n        replace(/\\x00|\\\\$/g, '\\ufffd');\n\n      Config.SHORTCUTS && (selector = Dom.shortcuts(selector, element, from));\n\n      if (lastMatcher != selector) {\n        if ((parts = selector.match(reValidator)) && parts[0] == selector) {\n          isSingleMatch = (parts = selector.match(reSplitGroup)).length < 2;\n          lastMatcher = selector;\n          lastPartsMatch = parts;\n        } else {\n          emit('The string \"' + selector + '\", is not a valid CSS selector');\n          return false;\n        }\n      } else parts = lastPartsMatch;\n\n      if (!matchResolvers[selector] || matchContexts[selector] !== from) {\n        matchResolvers[selector] = compile(isSingleMatch ? [selector] : parts, '', false);\n        matchContexts[selector] = from;\n      }\n\n      return matchResolvers[selector](element, Snapshot, doc, root, from, callback);\n    },\n\n  first =\n    function(selector, from) {\n      return select(selector, from, function() { return false; })[0] || null;\n    },\n\n  select =\n    function(selector, from, callback) {\n\n      var i, changed, element, elements, parts, token, original = selector;\n\n      if (arguments.length === 0) {\n        emit('Not enough arguments');\n        return [ ];\n      } else if (typeof selector != 'string') {\n        return [ ];\n      } else if (from && !(/1|9|11/).test(from.nodeType)) {\n        emit('Invalid or illegal context element');\n        return [ ];\n      } else if (lastContext !== from) {\n        switchContext(from || (from = doc));\n      }\n\n      if (Config.CACHING && (elements = Dom.loadResults(original, from, doc, root))) {\n        return callback ? concatCall([ ], elements, callback) : elements;\n      }\n\n      selector = selector.\n        replace(reTrimSpaces, '').\n        replace(/\\x00|\\\\$/g, '\\ufffd');\n\n      Config.SHORTCUTS && (selector = Dom.shortcuts(selector, from));\n\n      if ((changed = lastSelector != selector)) {\n        if ((parts = selector.match(reValidator)) && parts[0] == selector) {\n          isSingleSelect = (parts = selector.match(reSplitGroup)).length < 2;\n          lastSelector = selector;\n          lastPartsSelect = parts;\n        } else {\n          emit('The string \"' + selector + '\", is not a valid CSS selector');\n          return [ ];\n        }\n      } else parts = lastPartsSelect;\n\n      if (from.nodeType == 11) {\n\n        elements = byTagRaw('*', from);\n\n      } else if (isSingleSelect) {\n\n        if (changed) {\n          parts = selector.match(reSplitToken);\n          token = parts[parts.length - 1];\n          lastSlice = token.split(':not');\n          lastSlice = lastSlice[lastSlice.length - 1];\n          lastPosition = selector.length - token.length;\n        }\n\n        if (Config.UNIQUE_ID && lastSlice && (parts = lastSlice.match(Optimize.ID)) && (token = parts[1])) {\n          if ((element = _byId(token, from))) {\n            if (match(element, selector)) {\n              callback && callback(element);\n              elements = [element];\n            } else elements = [ ];\n          }\n        }\n\n        else if (Config.UNIQUE_ID && (parts = selector.match(Optimize.ID)) && (token = parts[1])) {\n          if ((element = _byId(token, doc))) {\n            if ('#' + token == selector) {\n              callback && callback(element);\n              elements = [element];\n            } else if (/[>+~]/.test(selector)) {\n              from = element.parentNode;\n            } else {\n              from = element;\n            }\n          } else elements = [ ];\n        }\n\n        if (elements) {\n          Config.CACHING && Dom.saveResults(original, from, doc, elements);\n          return elements;\n        }\n\n        if (!XML_DOCUMENT && GEBTN && lastSlice && (parts = lastSlice.match(Optimize.TAG)) && (token = parts[1])) {\n          if ((elements = from.getElementsByTagName(token)).length === 0) { return [ ]; }\n          selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace(token, '*');\n        }\n\n        else if (!XML_DOCUMENT && GEBCN && lastSlice && (parts = lastSlice.match(Optimize.CLASS)) && (token = parts[1])) {\n          if ((elements = from.getElementsByClassName(unescapeIdentifier(token))).length === 0) { return [ ]; }\n            selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace('.' + token,\n              reOptimizeSelector.test(selector.charAt(selector.indexOf(token) - 1)) ? '' : '*');\n        }\n\n      }\n\n      if (!elements) {\n        if (IE_LT_9) {\n          elements = /^(?:applet|object)$/i.test(from.nodeName) ? from.children : byTagRaw('*', from);\n        } else {\n          elements = from.getElementsByTagName('*');\n        }\n      }\n\n      if (!selectResolvers[selector] || selectContexts[selector] !== from) {\n        selectResolvers[selector] = compile(isSingleSelect ? [selector] : parts, REJECT_NODE, true);\n        selectContexts[selector] = from;\n      }\n\n      elements = selectResolvers[selector](elements, Snapshot, doc, root, from, callback);\n\n      Config.CACHING && Dom.saveResults(original, from, doc, elements);\n\n      return elements;\n    },\n\n  FN = function(x) { return x; },\n\n  matchContexts = { },\n  matchResolvers = { },\n\n  selectContexts = { },\n  selectResolvers = { },\n\n  Snapshot = {\n    byId: _byId,\n    match: match,\n    select: select,\n    isLink: isLink,\n    isEmpty: isEmpty,\n    contains: contains,\n    nthOfType: nthOfType,\n    nthElement: nthElement,\n    getAttribute: getAttribute,\n    hasAttribute: hasAttribute\n  },\n\n  Dom = {\n\n    ACCEPT_NODE: ACCEPT_NODE,\n\n    byId: byId,\n    match: match,\n    first: first,\n    select: select,\n    compile: compile,\n    contains: contains,\n    configure: configure,\n    getAttribute: getAttribute,\n    hasAttribute: hasAttribute,\n\n    setCache: FN,\n    shortcuts: FN,\n    loadResults: FN,\n    saveResults: FN,\n\n    emit: emit,\n    Config: Config,\n    Snapshot: Snapshot,\n\n    Operators: Operators,\n    Selectors: Selectors,\n\n    Tokens: Tokens,\n    Version: version,\n\n    registerOperator:\n      function(symbol, resolver) {\n        Operators[symbol] || (Operators[symbol] = resolver);\n      },\n\n    registerSelector:\n      function(name, rexp, func) {\n        Selectors[name] || (Selectors[name] = {\n          Expression: rexp,\n          Callback: func\n        });\n      }\n\n  };\n\n  initialize(doc);\n\n  return Dom;\n});\n"]},"metadata":{},"sourceType":"script"}