{"ast":null,"code":"\"use strict\";\n\nvar nwmatcher = require(\"nwmatcher/src/nwmatcher-noqsa\");\n\nvar memoizeQuery = require(\"../utils\").memoizeQuery;\n\nmodule.exports = function (core) {\n  [core.Document, core.DocumentFragment, core.Element].forEach(function (Class) {\n    Class.prototype.querySelector = memoizeQuery(function (selectors) {\n      return addNwmatcher(this).first(String(selectors), this);\n    });\n    Class.prototype.querySelectorAll = memoizeQuery(function (selectors) {\n      return new core.NodeList(addNwmatcher(this).select(String(selectors), this));\n    });\n  });\n  core.Element.prototype.matches = memoizeQuery(function (selectors) {\n    return addNwmatcher(this).match(this, selectors);\n  });\n}; // nwmatcher gets `document.documentElement` at creation-time, so we have to initialize lazily, since in the initial\n// stages of Document initialization, there is no documentElement present yet.\n\n\nfunction addNwmatcher(parentNode) {\n  var document = parentNode._ownerDocument;\n\n  if (!document._nwmatcher) {\n    document._nwmatcher = nwmatcher({\n      document: document\n    });\n\n    document._nwmatcher.configure({\n      UNIQUE_ID: false\n    });\n  }\n\n  return document._nwmatcher;\n}","map":{"version":3,"sources":["F:/JavaScript/Projects/chemistryphile/node_modules/jsdom-no-contextify/lib/jsdom/living/selectors.js"],"names":["nwmatcher","require","memoizeQuery","module","exports","core","Document","DocumentFragment","Element","forEach","Class","prototype","querySelector","selectors","addNwmatcher","first","String","querySelectorAll","NodeList","select","matches","match","parentNode","document","_ownerDocument","_nwmatcher","configure","UNIQUE_ID"],"mappings":"AAAA;;AACA,IAAIA,SAAS,GAAGC,OAAO,CAAC,+BAAD,CAAvB;;AACA,IAAIC,YAAY,GAAGD,OAAO,CAAC,UAAD,CAAP,CAAoBC,YAAvC;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAAUC,IAAV,EAAgB;AAC/B,GAACA,IAAI,CAACC,QAAN,EAAgBD,IAAI,CAACE,gBAArB,EAAuCF,IAAI,CAACG,OAA5C,EAAqDC,OAArD,CAA6D,UAAUC,KAAV,EAAiB;AAC5EA,IAAAA,KAAK,CAACC,SAAN,CAAgBC,aAAhB,GAAgCV,YAAY,CAAC,UAAUW,SAAV,EAAqB;AAChE,aAAOC,YAAY,CAAC,IAAD,CAAZ,CAAmBC,KAAnB,CAAyBC,MAAM,CAACH,SAAD,CAA/B,EAA4C,IAA5C,CAAP;AACD,KAF2C,CAA5C;AAIAH,IAAAA,KAAK,CAACC,SAAN,CAAgBM,gBAAhB,GAAmCf,YAAY,CAAC,UAAUW,SAAV,EAAqB;AACnE,aAAO,IAAIR,IAAI,CAACa,QAAT,CAAkBJ,YAAY,CAAC,IAAD,CAAZ,CAAmBK,MAAnB,CAA0BH,MAAM,CAACH,SAAD,CAAhC,EAA6C,IAA7C,CAAlB,CAAP;AACD,KAF8C,CAA/C;AAGD,GARD;AAUAR,EAAAA,IAAI,CAACG,OAAL,CAAaG,SAAb,CAAuBS,OAAvB,GAAiClB,YAAY,CAAC,UAAUW,SAAV,EAAqB;AACjE,WAAOC,YAAY,CAAC,IAAD,CAAZ,CAAmBO,KAAnB,CAAyB,IAAzB,EAA+BR,SAA/B,CAAP;AACD,GAF4C,CAA7C;AAGD,CAdD,C,CAgBA;AACA;;;AACA,SAASC,YAAT,CAAsBQ,UAAtB,EAAkC;AAChC,MAAIC,QAAQ,GAAGD,UAAU,CAACE,cAA1B;;AAEA,MAAI,CAACD,QAAQ,CAACE,UAAd,EAA0B;AACxBF,IAAAA,QAAQ,CAACE,UAAT,GAAsBzB,SAAS,CAAC;AAAEuB,MAAAA,QAAQ,EAAEA;AAAZ,KAAD,CAA/B;;AACAA,IAAAA,QAAQ,CAACE,UAAT,CAAoBC,SAApB,CAA8B;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAA9B;AACD;;AAED,SAAOJ,QAAQ,CAACE,UAAhB;AACD","sourcesContent":["\"use strict\";\nvar nwmatcher = require(\"nwmatcher/src/nwmatcher-noqsa\");\nvar memoizeQuery = require(\"../utils\").memoizeQuery;\n\nmodule.exports = function (core) {\n  [core.Document, core.DocumentFragment, core.Element].forEach(function (Class) {\n    Class.prototype.querySelector = memoizeQuery(function (selectors) {\n      return addNwmatcher(this).first(String(selectors), this);\n    });\n\n    Class.prototype.querySelectorAll = memoizeQuery(function (selectors) {\n      return new core.NodeList(addNwmatcher(this).select(String(selectors), this));\n    });\n  });\n\n  core.Element.prototype.matches = memoizeQuery(function (selectors) {\n    return addNwmatcher(this).match(this, selectors);\n  });\n};\n\n// nwmatcher gets `document.documentElement` at creation-time, so we have to initialize lazily, since in the initial\n// stages of Document initialization, there is no documentElement present yet.\nfunction addNwmatcher(parentNode) {\n  var document = parentNode._ownerDocument;\n\n  if (!document._nwmatcher) {\n    document._nwmatcher = nwmatcher({ document: document });\n    document._nwmatcher.configure({ UNIQUE_ID: false });\n  }\n\n  return document._nwmatcher;\n}\n"]},"metadata":{},"sourceType":"script"}