{"ast":null,"code":"exports.availableDocumentFeatures = ['FetchExternalResources', 'ProcessExternalResources', 'MutationEvents', 'SkipExternalResources'];\nexports.defaultDocumentFeatures = {\n  \"FetchExternalResources\": ['script', 'link'\n  /*, 'img', 'css', 'frame'*/\n  ],\n  \"ProcessExternalResources\": ['script'\n  /*, 'frame', 'iframe'*/\n  ],\n  \"MutationEvents\": '2.0',\n  \"SkipExternalResources\": false\n};\n\nexports.applyDocumentFeatures = function (doc, features) {\n  var i,\n      maxFeatures = exports.availableDocumentFeatures.length,\n      defaultFeatures = exports.defaultDocumentFeatures,\n      j,\n      k,\n      featureName,\n      featureSource;\n  features = features || {};\n\n  for (i = 0; i < maxFeatures; i++) {\n    featureName = exports.availableDocumentFeatures[i];\n\n    if (typeof features[featureName] !== 'undefined') {\n      featureSource = features[featureName]; // We have to check the lowercase version also because the Document feature\n      // methods convert everything to lowercase.\n    } else if (typeof features[featureName.toLowerCase()] !== 'undefined') {\n      featureSource = features[featureName.toLowerCase()];\n    } else if (defaultFeatures[featureName]) {\n      featureSource = defaultFeatures[featureName];\n    } else {\n      continue;\n    }\n\n    doc.implementation._removeFeature(featureName);\n\n    if (typeof featureSource !== 'undefined') {\n      if (featureSource instanceof Array) {\n        k = featureSource.length;\n\n        for (j = 0; j < k; j++) {\n          doc.implementation._addFeature(featureName, featureSource[j]);\n        }\n      } else {\n        doc.implementation._addFeature(featureName, featureSource);\n      }\n    }\n  }\n};","map":{"version":3,"sources":["F:/JavaScript/Projects/chemistryphile/node_modules/jsdom-no-contextify/lib/jsdom/browser/documentfeatures.js"],"names":["exports","availableDocumentFeatures","defaultDocumentFeatures","applyDocumentFeatures","doc","features","i","maxFeatures","length","defaultFeatures","j","k","featureName","featureSource","toLowerCase","implementation","_removeFeature","Array","_addFeature"],"mappings":"AAAAA,OAAO,CAACC,yBAAR,GAAoC,CAClC,wBADkC,EAElC,0BAFkC,EAGlC,gBAHkC,EAIlC,uBAJkC,CAApC;AAOAD,OAAO,CAACE,uBAAR,GAAkC;AAChC,4BAA0B,CAAC,QAAD,EAAW;AAAM;AAAjB,GADM;AAEhC,8BAA4B,CAAC;AAAQ;AAAT,GAFI;AAGhC,oBAAkB,KAHc;AAIhC,2BAAyB;AAJO,CAAlC;;AAOAF,OAAO,CAACG,qBAAR,GAAgC,UAASC,GAAT,EAAcC,QAAd,EAAwB;AACtD,MAAIC,CAAJ;AAAA,MAAOC,WAAW,GAAGP,OAAO,CAACC,yBAAR,CAAkCO,MAAvD;AAAA,MACIC,eAAe,GAAGT,OAAO,CAACE,uBAD9B;AAAA,MAEIQ,CAFJ;AAAA,MAGIC,CAHJ;AAAA,MAIIC,WAJJ;AAAA,MAKIC,aALJ;AAOAR,EAAAA,QAAQ,GAAGA,QAAQ,IAAI,EAAvB;;AAEA,OAAKC,CAAC,GAAC,CAAP,EAAUA,CAAC,GAACC,WAAZ,EAAyBD,CAAC,EAA1B,EAA8B;AAC5BM,IAAAA,WAAW,GAAGZ,OAAO,CAACC,yBAAR,CAAkCK,CAAlC,CAAd;;AACA,QAAI,OAAOD,QAAQ,CAACO,WAAD,CAAf,KAAiC,WAArC,EAAkD;AAChDC,MAAAA,aAAa,GAAGR,QAAQ,CAACO,WAAD,CAAxB,CADgD,CAElD;AACA;AACC,KAJD,MAIO,IAAI,OAAOP,QAAQ,CAACO,WAAW,CAACE,WAAZ,EAAD,CAAf,KAA+C,WAAnD,EAAgE;AACrED,MAAAA,aAAa,GAAGR,QAAQ,CAACO,WAAW,CAACE,WAAZ,EAAD,CAAxB;AACD,KAFM,MAEA,IAAIL,eAAe,CAACG,WAAD,CAAnB,EAAkC;AACvCC,MAAAA,aAAa,GAAGJ,eAAe,CAACG,WAAD,CAA/B;AACD,KAFM,MAEA;AACL;AACD;;AAEDR,IAAAA,GAAG,CAACW,cAAJ,CAAmBC,cAAnB,CAAkCJ,WAAlC;;AAEA,QAAI,OAAOC,aAAP,KAAyB,WAA7B,EAA0C;AACxC,UAAIA,aAAa,YAAYI,KAA7B,EAAoC;AAClCN,QAAAA,CAAC,GAAGE,aAAa,CAACL,MAAlB;;AACA,aAAKE,CAAC,GAAC,CAAP,EAAUA,CAAC,GAACC,CAAZ,EAAeD,CAAC,EAAhB,EAAoB;AAClBN,UAAAA,GAAG,CAACW,cAAJ,CAAmBG,WAAnB,CAA+BN,WAA/B,EAA4CC,aAAa,CAACH,CAAD,CAAzD;AACD;AACF,OALD,MAKO;AACLN,QAAAA,GAAG,CAACW,cAAJ,CAAmBG,WAAnB,CAA+BN,WAA/B,EAA4CC,aAA5C;AACD;AACF;AACF;AACF,CArCD","sourcesContent":["exports.availableDocumentFeatures = [\n  'FetchExternalResources',\n  'ProcessExternalResources',\n  'MutationEvents',\n  'SkipExternalResources'\n];\n\nexports.defaultDocumentFeatures = {\n  \"FetchExternalResources\": ['script', 'link'/*, 'img', 'css', 'frame'*/],\n  \"ProcessExternalResources\": ['script'/*, 'frame', 'iframe'*/],\n  \"MutationEvents\": '2.0',\n  \"SkipExternalResources\": false\n};\n\nexports.applyDocumentFeatures = function(doc, features) {\n  var i, maxFeatures = exports.availableDocumentFeatures.length,\n      defaultFeatures = exports.defaultDocumentFeatures,\n      j,\n      k,\n      featureName,\n      featureSource;\n\n  features = features || {};\n\n  for (i=0; i<maxFeatures; i++) {\n    featureName = exports.availableDocumentFeatures[i];\n    if (typeof features[featureName] !== 'undefined') {\n      featureSource = features[featureName];\n    // We have to check the lowercase version also because the Document feature\n    // methods convert everything to lowercase.\n    } else if (typeof features[featureName.toLowerCase()] !== 'undefined') {\n      featureSource = features[featureName.toLowerCase()];\n    } else if (defaultFeatures[featureName]) {\n      featureSource = defaultFeatures[featureName];\n    } else {\n      continue;\n    }\n\n    doc.implementation._removeFeature(featureName);\n\n    if (typeof featureSource !== 'undefined') {\n      if (featureSource instanceof Array) {\n        k = featureSource.length;\n        for (j=0; j<k; j++) {\n          doc.implementation._addFeature(featureName, featureSource[j]);\n        }\n      } else {\n        doc.implementation._addFeature(featureName, featureSource);\n      }\n    }\n  }\n};\n"]},"metadata":{},"sourceType":"script"}